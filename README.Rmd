---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# jsutils

<!-- badges: start -->
<!-- badges: end -->

The `jsutils` package provides a portable collection of JavaScript utility functions and libraries for R users. The package currently provides bindings to the following JavaScript libraries:

  - `esprima`: Tokeniser and Parser for JavaScript
  - `sass`: A CSS preprocessor, compiling SCSS or SASS files to CSS
  - `terser`: A minifier/mangler for JavaScript code
  - `typescript`: A superset of JavaScript that compiles to clean JavaScript output

## Installation

You can install the development version of jsutils from [GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("andrjohns/jsutils")
```

## Example

### `esprima`: Tokeniser and Parser for JavaScript

Separate `esprima_parse` and `esprima_tokenize` functions are provided to parse or tokenize JavaScript code respectively:

```{r}
library(jsutils)

js_code <- "function hello() { console.log('Hello, world!'); }"

# Parse JavaScript code
esprima_parse(js_code)

# Tokenize JavaScript code
esprima_tokenize(js_code)
```

### `sass`: A CSS preprocessor

The `sass` function compiles SCSS or SASS code to CSS:

```{r}
scss_code <- "h1 { font-size: 40px; code { font-face: Roboto Mono; } }"

# Compile SCSS code to CSS
sass(scss_code)

# With options
sass(scss_code, options = list(style = "compressed"))
```

### `terser`: A minifier/mangler for JavaScript code

The `terser` function minifies JavaScript code:
```{r}
js_code <- "function hello() { console.log('Hello, world!'); }"

# Minify JavaScript code
terser(js_code)

# With options
terser(js_code, list(mangle=list(toplevel = TRUE)))
```

### `typescript`: A superset of JavaScript that compiles to clean JavaScript output

The `typescript` function compiles TypeScript code to JavaScript:
```{r}
ts_code <- "let arrow_func = (msg: string): void => { console.log(msg); };"

# Compile TypeScript code to JavaScript
typescript(ts_code)

# With options
typescript(ts_code, options = list(compilerOptions = list(target = "ES2015")))
```
